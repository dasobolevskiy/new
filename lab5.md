# **РОССИЙСКИЙ УНИВЕРСИТЕТ ДРУЖБЫ НАРОДОВ**

## **Факультет физико-математических и естественных наук**

## **Кафедра прикладной информатики и теории вероятностей**

# **ОТЧЕТ ПО ЛАБОРАТОРНОЙ РАБОТЕ № 5**
*дисциплина: операционные системы*

Студент: Соболевский Денис Андреевич

Группа: НФИбд-02-20

**МОСКВА**

2021 г.

**Цель работы:** 

Приобретение практических навыков взаимодействия пользователя с системой посредством командной строки.


**Выполнение работы:**

1.	Нам нужно определить полное имя домашнего каталога, далее относительно которого будут выполняться последующие действия. Для этого сначала перейдем в домашний каталог командой cd, а после воспользуемся командой pwd, позволяющей узнать полное имя текущего каталога (рисунок 1). 

*Рисунок 1:*

![скриншот1](https://sun9-24.userapi.com/impg/X8EViEuSls7HtLV-S2doBvDY89O1l7tnF4CWqg/w5gDfTdFo0g.jpg?size=621x396&quality=96&sign=ec4dc09c350beb80ac279e16a610c24f&type=album)

Видим, что домашний каталог имеет полное имя /home/dasobolevskiy, где dasobolevsky - имя пользователя.

2.	Выполняем следующие действия:

 	2.1. Переходим в каталог /tmp, воспользовавшись командой cd /tmp (рисунок 2).

    *Рисунок 2:*

    ![скриншот2](https://sun9-30.userapi.com/impg/OUFA24QxWSatIyYIX7gtilgKfS1vcRvYIjbzmA/elvgrb_1OpI.jpg?size=316x59&quality=96&sign=049051b62f14a53e63f9a26f39d760d0&type=album)

    2.2. Выводим на экран содержимое каталога /tmp командой ls с различными опциями.
 	Сперва вводим ls без опций (рисунок 3), это позволит нам увидеть содержимое каталога без скрытых файлов, их типов и т.д., то есть, мы увидим лишь названия файлов и каталогов, хранящихся в каталоге /tmp.

     *Рисунок 3:*

     ![скриншот3](https://sun9-45.userapi.com/impg/YP5o54PvLiuuS6qVjuUGbxZyMF9eyN5Ch8S7mg/5-6osjDCs_0.jpg?size=605x398&quality=96&sign=04ec2aa333fed0ecd6f3f48b5ae2b75a&type=album)

    Теперь просмотрим содержимое каталога вызовом команды ls -a (риуснок 4). Таким образом мы увидим еще и скрытые файлы (они подсвечены зеленым), которые используются для настройки среды.

    *Рисунок 4:*
    
    ![скриншот4](https://sun9-62.userapi.com/impg/FBo1hAOzmy-chGVI64s7JnK6p77WsH8Y5szNnA/a80RAfcF7CY.jpg?size=608x208&quality=96&sign=51ef0ff6018cbb2936fe900b2358c0ca&type=album)

    Просмотрим каталог, воспользовавшись командой ls -F (рисунок 5), которая выведет на экран содержащиеся в каталоге файлы с обозначением их типов:

    –	/ - каталог;

    –	* - исполняемый файл;

    –	@ - ссылка.

    *Рисунок 5:*

    ![скриншот5](https://sun9-10.userapi.com/impg/DnkCYWTI34UHc4Xd4OKSIJBSqQqqXIJSrvj6Tg/kbERq_Ynnj0.jpg?size=613x408&quality=96&sign=f9e3121416cb8dd4fa3239d5c4001f3b&type=album)

    Далее введем команду ls -l (рисунок 6), которая позволит нам просмотреть подробную информацию о каждом файле каталога, а именно: его тип, право доступа, число ссылок, владельца, размер, дату последней ревизии, имя файла или каталога.

    *Рисунок 6:*

    ![скриншот6](https://sun9-51.userapi.com/impg/S_YaGmso3LXT-yY4mJlJpTt8-7PSBdN-cHQHdQ/fS8KvUbup6o.jpg?size=612x403&quality=96&sign=7e35f28d1ab80c4d1b0fa2f4da04df45&type=album)

    Мы также можем воспользоваться командой ls -alF (рисунок 7), чтобы объединить все вышеперечисленные команды. Тогда на выходе мы получим список всех файлов, даже скрытых как при -a, с обозначением их типа как в -F и с подробной информацией как при -l.

    *Рисунок 7:*

    ![скриншот7](https://sun9-2.userapi.com/impg/DDL8Flijgo7DypDAp0X1kAjcEuPTH13i0uxnnw/xdiuK7ldABU.jpg?size=608x403&quality=96&sign=0334854c718c441c9d1e9adfdc85279c&type=album)

    2.3. Теперь нам нужно определить, есть ли в каталоге /var/spool подкаталог с именем cron. Для этого командой cd /var/spool перейдем в данный каталог и выведем его содержимое с помощью ls -a (рисунок 8).

    *Рисунок 8:*

    ![скриншот8](https://sun9-32.userapi.com/impg/nbBf7hPOSIU0FeQdcNVBNduu9bhrQRQmJF9HnQ/Xt55xvhf2zM.jpg?size=610x68&quality=96&sign=f71b0f0a5901f37d46c6ff544f4a7def&type=album)

    Видим, что подкаталог cron действительно находится в данном подкаталоге (он подсвечен синим).

    2.4. Теперь перйдем в наш домашний каталог (cd) и выведим на экран его содержимое (ls -l, чтобы увидеть подробную информацию о файлах, в том числе и об их пользователе) (рисунок 9).

    *Рисунок 9:*

    ![скриншот9](https://sun9-52.userapi.com/impg/jzp5b8eJN4DdQV_7XM0h1tq3oawDcydmRdK_OA/iSnbPHsCVkU.jpg?size=606x196&quality=96&sign=f3305e9e8c0616b50562de5b7bab055e&type=album)

    Видим, что владельцем файлов и подкаталогов является пользователь dasobolevskiy

3.	Выполняем следующие действия:

 	3.1. В домашнем каталоге создаем новый каталог с именем newdir (рисунок 10). Для этого воспользуемся командой mkdir newdir, предварительно перейдя в домашний каталог - cd. После проверяем, создали ли мы его, просматривая содержимое домашнего каталога командой ls -a.

    *Рисунок 10:*

    ![скриншот10](https://sun9-6.userapi.com/impg/8bg8KzMT4_yp6IBrS8eSvZi8njW_MMtmZwr5qQ/6o8wQQCSXxc.jpg?size=612x185&quality=96&sign=991e3754a8445f57962da0407ed1439a&type=album)

    Видим, что каталог был создан успешно.

    3.2. Перейдем в каталог ~/newdir (cd ~/newdir) и создадим в нем подкаталог morefun (mkdir morefun), после чего проверим верность наших действий (ls -a) (рисунок 11).
    
    *Рисунок 11:*

    ![скриншот11](https://sun9-16.userapi.com/impg/Rwqh86o0sF0h93nkwv9oTnK4s5OpOOsF98wx1Q/kfp4g8vaR9s.jpg?size=611x77&quality=96&sign=bcff93753ef57eb9da5690f5633e48d0&type=album)

    Видим, что подкаталог действительно был создан.

    3.3. Переходим в домашний каталог - cd. В домашнем каталоге создаем одной командой три новых каталога с именами letters, memos, misk - mkdir letters memos misk, и проверяем, просматривая домашний каталог ls -a (рисунок 12). Затем удаляем эти каталоги одной командой - rm -r letters memos misk, проверяем - ls -a (рисунок 13).

    *Рисунок 12:*

    ![скриншот12](https://sun9-40.userapi.com/impg/kUWhAxU1tw0gVYDGmUc8l8Q70SKaJi8FijjVcw/q_zA_to-t88.jpg?size=615x206&quality=96&sign=eca2099161402dfed2775d4255f8a77d&type=album)

    *Рисунок 13:*

    ![скриншот13](https://sun9-37.userapi.com/impg/dyexxpQuEKKbv3hUUMYdkNyGTiYpQPsu6NcfiA/OmuE6KusTLY.jpg?size=480x110&quality=96&sign=6ac9903d116e980fbef1e2773ad1cf58&type=album)

    Смотрим на результаты команды ls -a и видим, что все выполнено верно.
    
    3.4. Пробуем удалить ранее созданный каталог ~/newdir командой rm. Проверяем, был ли каталог удалён - ls -a (рисунок 14).

    *Рисунок 14:*

    ![скриншот14](https://sun9-59.userapi.com/impg/l7OCljDkjmx-BNktC0HRnTxNtx7FyvQavBJMEw/f_BRzNLFDFw.jpg?size=486x54&quality=96&sign=0a60688e15c3c6fa440dc7701987cdc8&type=album)

    Видим, что каталог удалить не удалось. Произошло это потому, что мы использовали команду удаления без ключей, в таком случае она является командой удаления файлов, а мы пытались удалить каталог.

    3.5. Удаляем каталог ~/newdir/morefun из домашнего каталога - rm -r ~/newdir/morefun. Проверяем, был ли каталог удалён, просматриваем домашний каталог - ls -a. (рисунок 15)

    *Рисунок 15:* 

    ![скриншот15](https://sun9-74.userapi.com/impg/R_N7utI1u5JEUm6UmNF0-xy6h40kQ22ehNcjww/ss5T4Vhbnks.jpg?size=599x229&quality=96&sign=f9ea88a305e54ac83d53e9b84e70262c&type=album)

    Видим что каталог morefun был успешно удален.

4.	С помощью команды man ls определяем, какую опцию команды ls нужно использовать для просмотра содержимого не только указанного каталога, но и подкаталогов, входящих в него. Просматриваем результат выполнения команды man и находим нужный нам ключ, позволяющий просматривать содержимое каталога и его подкаталогов одновременно. Это рекурсивный просмотр - опция -R (рисунок 16).

*Рисунок 16:*

![скриншот16](https://sun9-38.userapi.com/impg/i7UTpJwkYuV0WywCkV9KB3djYradFY2vtUsIJA/KSOWDNlNxjg.jpg?size=348x59&quality=96&sign=902386fb26bfea74ae8e0f6ee3c14317&type=album)

5.	Теперь с помощью все той же команды man определяем набор опций команды ls, позволяющий отсортировать по времени последнего изменения выводимый список содержимого каталога с развёрнутым описанием файлов. Просматривем свывод команды man из пункта 4 и находим искомые опции. Это опция -l, позволяющая вывести список содержимого каталога с развёрнутым описанием файлов (рисунок 17), и опция -t - сортировка по времени последнего изменения выводимого списка содержимого каталога (рисунок 18).

*Рисунок 17:*

![скриншот17](https://sun9-66.userapi.com/impg/nEZzrtFbTOGFFw1LnqbAnaBRuqAo5PIIDLB4Sw/WBylrq3w_qQ.jpg?size=261x49&quality=96&sign=2cd89121311626fe0f5778fe2e4a64e0&type=album)

*Рисунок 18:*

![скриншот18](https://sun9-10.userapi.com/impg/GT9bpzMTfiPE1atfnYfkpCtDD6zHSk2ljiFYdg/L1b910yx-I8.jpg?size=382x48&quality=96&sign=3fdb89c87e85814c6256d81e7b2bf604&type=album)

6.	Далее используем команду man для просмотра описания следующих команд: cd, pwd, mkdir, rmdir, rm (рисунок 19) и просматриваем рузультаты каждой из них (рисунки 20-25).

*Рисунок 19:*

![скриншот19](https://sun9-61.userapi.com/impg/OJ49SViOOXRVuNZrlFpJPrK84dHogcfIw8tqNw/QLCIKnhU17w.jpg?size=321x64&quality=96&sign=46ac30af4e4facf4ce150f990431edb7&type=album)

*Рисунок 20:*

![скриншот20](https://sun9-23.userapi.com/impg/fwV4sQyupnSB2jQQRkehIrmodeBdkbrBVY3EsQ/PUe5kPYL0yU.jpg?size=639x285&quality=96&sign=d30f0f79acd6aeadbda963fcfeb39d64&type=album)

Таким образом для cd основные опции это (рисунок 20):

•	-L - переходит по символическим ссылкам только после того, как были обработаны переходы на одну директорию выше "..";

•	-R - позволяет следовать по символическим ссылкам перед тем, как будут обработаны все переходы "..";

•	-e - если папку, в которую нужно перейти не удалось найти - выдает ошибку.

*Рисунок 21:*

![скриншот21](https://sun9-36.userapi.com/impg/3OkKNeqeJXoLrsIIwL1qUrSqWL8QllMmP531Dw/Zhu5gAMchOw.jpg?size=589x243&quality=96&sign=879fca146bdefbcab0ac7c50e488e89b&type=album)

Таким образом для pwd основные опции это (рисунок 21):

•	-L, --logical - берет директорию из переменной окружения, даже если она содержит символические ссылки;

•	-P, --physycal - отбрасывает все символические ссылки;

•	--help - отображает справку по утилите;

•	--version - отображает версию утилиты.

*Рисунок 22:*

![скриншот22](https://sun9-64.userapi.com/impg/5Ck2DjswwPitCtpRbw-6tKg3OtRZif4p5F1k5Q/bGHyKeZx5qU.jpg?size=771x501&quality=96&sign=fc09e646056a3528e5c6f9b292fd953a&type=album)

Таким образом для mkdir основные опции это (рисунок 22):

•	-m - назначить режим доступа (права). По умолчанию mod принимает значение 0777, что обеспечивает неограниченные права;

•	-p - не показывать ошибки, а также их игнорировать;

•	-v - выводить сообщение о каждом новым каталоге;

•	-z - принимает контекст SELinux для каталога по умолчанию;

•	--context - то же, что и -z;

•	--help - вывести справочную информацию;

•	--version - выводит информацию о текущей версии утилиты.

*Рисунок 23:*

![скриншот23](https://sun9-69.userapi.com/impg/uVq-DTE9iAKxTegT9V44TSB5k02QuJCcDvrcsg/JZBjCaXO4Vg.jpg?size=795x507&quality=96&sign=c3e72ced376c94660fdfc53aab62fd6e&type=album)

Таким образом для rmdir основные опции это (рисунок 23):

•	--ignore-fail-on-non-empty - игнорирует ошибки вызванные тем, что каталог непустой;

•	-p - удаляются также каталоги высшего уровня, если они пустые;

•	-v - подавление сообщения, выдаваемого при действии опции -p;

•	--help - вывести справочную информацию;

•	--version - выводит информацию о текущей версии утилиты.

*Рисунок 24:*

![скриншот24](https://sun9-70.userapi.com/impg/CW-g0RAr73ZXyxFiq-CxYqDrNKawP7Yy3QAE5g/t7KqIK9-8lE.jpg?size=792x577&quality=96&sign=6a3ff073823e87f331378bec40ed30ba&type=album)

*Рисунок 25:*

![скриншот25](https://sun9-26.userapi.com/impg/0_ju8CO_M-IJopZAc8tcGzvZvh3FyBgHN3T9rw/hdRaufHyAnM.jpg?size=817x279&quality=96&sign=bf9add6c5aacdd82eb77eb75a7ec563a&type=album)

Таким образом для rm основные опции это (рисунки 24-25):

•	-f - игнорировать несуществующие файлы и аргументы. Никогда не выдавать запросы на подтверждение удаления;

•	i - выводить запрос на подтверждение удаления каждого файла;

•	-I - выдать один запрос на подтверждение удаления всех файлов, если удаляется больше трех файлов или используется рекурсивное удаление; опция применяется, как более «щадящая» версия опции -i.

•	--interactive[=WHEN] - вместо WHEN можно использовать:

never — никогда не выдавать запросы на подтверждение удаления;

once — выводить запрос один раз (аналог опции -I);

always — выводить запрос всегда (аналог опции -i);

Если значение WHEN не задано, то используется always.

•	--one-file-system - во время рекурсивного удаления пропускать директории, которые находятся на других файловых системах;

•	--no-preserve-root - если в качестве директории для удаления задан корневой раздел /, то считать, что это обычная директория и начать выполнять удаление;

•	-r, -R, --recursive - удаление директорий и их содержимого. Рекурсивное удаление;

•	-d, --dir - удалять пустые директории;

•	-v, --verbose - выводить информацию об удаляемых файлах;

•	--help - вывести справочную информацию;

•	--version - выводит информацию о текущей версии утилиты.

7.	Используя информацию, полученную при помощи команды history (рисунок 26), выполним модификацию и исполнение нескольких команд из буфера команд.

*Рисунок 26:*

![скриншот26](https://sun9-65.userapi.com/impg/lPKjgLHIktLJ0U5brxPMvWZWMS7EjrNbaCuSdA/MhSpswxwpa0.jpg?size=590x346&quality=96&sign=a2ee7651b3016c027e137f9873db4515&type=album)

После второй модификации выполнили проверку с помощью ls -a, видим, что вызов модификации прошел успешно и каталог new действительно был создан.

**Вывод:**
Приобрел практические навыки взаимодействия пользователя с системой посредством командной строки.