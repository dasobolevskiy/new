# **РОССИЙСКИЙ УНИВЕРСИТЕТ ДРУЖБЫ НАРОДОВ**

## **Факультет физико-математических и естественных наук**

## **Кафедра прикладной информатики и теории вероятностей**

# **ОТЧЕТ ПО ЛАБОРАТОРНОЙ РАБОТЕ № 6**
*дисциплина: операционные системы*

Студент: Соболевский Денис Андреевич

Группа: НФИбд-02-20

**МОСКВА**

2021 г.

**Цель работы:** 

Ознакомление с файловой системой Linux, её структурой, именами и содержанием каталогов. Приобретение практических навыков по применению команд для работы с файлами и каталогами, по управлению процессами (и работами), по проверке использования диска и обслуживанию файловой системы.

**Выполнение работы:**

1.	Выполняем все примеры, приведенные в материалах лабораторной работы №6.

•	Копирование файлов и каталогов:

Примеры:

1.	Копирование файла в текущем каталоге. Скопируем файл ~/abc1 в файл april и в файл may, предварительно создаем файл abc1 командой touch (рисунок 1). Само копирование осуществляется командой cp.

*Рисунок 1:*

![](https://sun9-54.userapi.com/impg/8RriNbZf3Xhf_S3xODMIJMs8rm9HAZ8mN9OQuw/ENWWB4r_Gok.jpg?size=590x230&quality=96&sign=3ead65bcefeee029376240f65b7a5733&type=album)

Проверяем правильность действий командой ls - просматриваем содержимое домашнего каталога. Видим, что все новые файлы на месте.

2.	Копирование нескольких файлов в каталог. Скопируем файлы april и may в каталог monthly командой cp (рисунок 2) (предварительно создали каталогn mothly командой mkdir):

*Рисунок 2:*

![](https://sun9-12.userapi.com/impg/maJPt_1KyYHiGni4Be1ZcydimRl1sdjAOTzDnw/Ebsfy8daa1g.jpg?size=410x95&quality=96&sign=ce9a60a7f75c5456128b445a9f6c006a&type=album)

Командой ls проверяем содержимое каталога mothly. Видим, что файлы april и may скопировались в наш каталог.

3.	Копирование файлов в произвольном каталоге. Скопируем файл monthly/may в файл с именем june командой cp и проверим верность наших действий, просмотрев каталог monthly командой ls (рисунок 3):

*Рисунок 3:*

![](https://sun9-53.userapi.com/impg/IbJk-l907OxksjwsCqlyDbqZnYY1KhH8neam3A/cuMp_ESlCDc.jpg?size=460x79&quality=96&sign=7c5a42babc2902a86c33dda34171c132&type=album)

Видим, что скопированный файл may отображается в каталоге как june, как и задумывалось.

4.	Копирование каталогов в текущем каталоге. Скопируем каталог monthly в каталог monthly.00. Для этого воспользуемся командой cp -r, которая позволяет копировать каталоги вместе с входящими в них файлами и каталогами (рисунок 4), но санчала создадим каталог monthly.00 командой mkdir:

*Рисунок 4:*

![](https://sun9-53.userapi.com/impg/dM3p-vKY2zFlvToa4cA0zlnbEJKpxmIrxS33LA/RkQtq6ggpr0.jpg?size=446x113&quality=96&sign=e15f35b52c54badec55b01e59685ffe4&type=album)

Проверим верность действий командой ls - просмотрим содержимое каталога monthly.00. Видим, что каталог monthly был успешно скопирован в каталог monthly.00.

5.	Копирование каталогов в произвольном каталоге. Скопируем каталог monthly.00 в каталог /tmp все той же командой cp -r (рисунок 5):

*Рисунок 5:*

![](https://sun9-13.userapi.com/impg/Cy__IeFjWt3XIo9cs8L_1L3UJ1fCoFv1i0f3eg/0Eevsgv8lss.jpg?size=580x316&quality=96&sign=8b3b590e6677ca8058618ee40920f489&type=album)

Просмотрим содержимое каталога /tmp (команда ls). Видим, что каталог monthly.00 теперь действительно находится в нем (он подсвечен синим).

•	Перемещение и переименование файлов и каталогов:

1.	Переименование файлов в текущем каталоге. Изменим название файла april на july в домашнем каталоге. Воспользуемся командой mv (рисунок 6):

*Рисунок 6:*

![](https://sun9-34.userapi.com/impg/s1VC-WKn-ucor37po3BoA2do2NPAKiZ0RYW_6Q/OjqfyBEciN8.jpg?size=527x112&quality=96&sign=031bf544d760afc4bf9c80d6aab53a70&type=album)

Просматриваем содержимое каатлога и видим, что файл был успешно переименован (выделено черным).

2.	Перемещение файлов в другой каталог. Переместим файл july в каталог monthly.00, вновь воспользовавшись командой mv (рисунок 7):

*Рисунок 7:*

![](https://sun9-50.userapi.com/impg/-b6TXRlZbMmbJ8HxMM0tr0Qpu6bwCXevODnOWQ/ijhjgTk_pno.jpg?size=387x52&quality=96&sign=28dd48804924c25f2a1edacd90ffa2a6&type=album)

Смотрим содержимое каталога monthly.00 и убеждаемся в том, что файл july был успешно перемещен в него.

3.	Переименование каталогов в текущем каталоге. Переименуем каталог monthly.00 в monthly.01 командой mv (рисунок 8):


*Рисунок 8:*

![](https://sun9-27.userapi.com/impg/w3LdpkUlR9ZKujvwNGdTrjfuJ4lEVComOJQTjQ/OQgENk54yqk.jpg?size=499x100&quality=96&sign=4feb9b8019e8aaa524613ffbc2d77308&type=album)

Проверим содержимое домашнего каталога. Видим, что каталог monthly.00 был переименован в monthly.01 (подсвечено синим).

4.	Перемещение каталога в другой каталог. Переместим каталог monthly.01 в каталог reports командой mv, предварительно создадим каталог reports командой mkdir (рисунок 9):

*Рисунок 9:*

![](https://sun9-68.userapi.com/impg/TE6uiRnadjm4zs0ybNsovjB-Sjl3wvyhpcAaGg/gfU64vAGvO0.jpg?size=428x83&quality=96&sign=609134f1b3e4cd8b974da7d6420d2906&type=album)

Просматриваем каталог reports и видим, что каталог monthly.01 был успешно перемещен в него.

5.	Переименование каталога, не являющегося текущим. Переименуем каталог reports/monthly.01 в reports/monthly (рисунок 10):

*Рисунок 10:*

![](https://sun9-68.userapi.com/impg/zIn67k20jIoP1It1uC3w3t-SEiJ2S_Av_XDoXQ/G9TR1A70RYA.jpg?size=538x75&quality=96&sign=dcdab2eb7e77d9dbb41a6976742be72c&type=album)

Просматриваем каталог reports и видим, что каталог monthly.01 был успешно переименован в monthly.

•	Изменение прав доступа:

1.	Создадим файл ~/may (команда touch) с правом выполнения для владельца (меняем права доступа командой chmod, используем комбинацию u+x) между делом проверяем свойства файла командой ls -l (рисунок 11):

*Рисунок 11:*

![](https://sun9-41.userapi.com/impg/RZIzzNfOtgRdDmdKXt-n5N1SxTb1X8Qcj7Cm-w/exjrWIKu0h8.jpg?size=465x125&quality=96&sign=ae8216eb59944d2ce7a2e9052211b3a0&type=album)

По выводам команды ls понимаем, что задание выполенено верно.

2.	Лишим владельца файла ~/may права на выполнение комбинацией u-x и проверим правильность действий командой ls -l (рисунок 12):

*Рисунок 12:*

![](https://sun9-23.userapi.com/impg/b9mMB5MpIi0K8cqAtOMrRAKZinGJi-ZaX9XH7Q/Pp8PA7ZUyQU.jpg?size=461x57&quality=96&sign=3fd3f78c9f24c2a904b8940a47f520e8&type=album)

По выводам команды ls понимаем, что задание выполенено верно.

3.	Создадим каталог monthly (командой mkdir) с запретом на чтение для членов группы и всех остальных пользователей (g-r, o-r) (рисунок 13):

*Рисунок 13:*

![](https://sun9-48.userapi.com/impg/Isbdro717hVp8uO8GjoSOic9eK23ZuZnWTbNHA/Lkun9ldSOvE.jpg?size=479x168&quality=96&sign=85d63cc3a8ecfc452535d63890b54c76&type=album)

4.	Создадим файл ~/abc1 (команда touch) с правом записи для членов группы (g+w) (рисунок 14):

*Рисунок 14:*

![](https://sun9-49.userapi.com/impg/c6jwwcG1hcWQEah7GG6dM9QN3XZCr0E8Umiygw/UDdKiDr8Tkw.jpg?size=392x73&quality=96&sign=8162a617f9e1a3ae006135b230395ad0&type=album)

2.1	Убедимся в том, что искомый файл io.h существует и находится в кааталоге /usr/include/sys, для этого воспользуемся командой просмотра содержимого ls. Скопируем файл /usr/include/sys/io.h в домашний каталог (команда cp) и назовем его equipment - переименуем командой mv. (рисунок 15)

*Рисунок 15:*

![](https://sun9-24.userapi.com/impg/YbBj21O_op3vSkQTup_SKEuPOzpj9pgskeuGYA/DY-jsSzhM2o.jpg?size=605x361&quality=96&sign=3af2a7b9cd67bc699f0ac60c921eacbc&type=album)

Смотрим на промежуточные и конечный выводы команды ls, которую используем в качестве проверки наших дейсвтий, видим, что действия выполнены верно, и теперь в домашнем каатлоге содержится файл equipment.

2.2. В домашнем каталоге создадим директорию ~/ski.plases командой mkdir и проверим правильность действий просмотром содержимого домашнего каталога (рисунок 16):


*Рисунок 16:*

![](https://sun9-45.userapi.com/impg/nGrHOa1a4Hs53V-gB_PZNG-U0BxRe4BLvjGFYg/CBdpUoHihEg.jpg?size=536x115&quality=96&sign=4cd02656d3cc747e404ab0b2261e66e9&type=album)

По результату вывода команды ls видим, что теперь каталог ~/ski.plases содержится в домашнем каталоге (подсвечен синим).

2.3. Переместим файл equipment в каталог ~/ski.plases командой mv. Просмотрим содержимое каталога ~/ski.plases командой ls (рисунок 17).

*Рисунок 17:*

![](https://sun9-55.userapi.com/impg/cici-z6-04PDZmHWRlNX24SEo0FY1Kl7PyZdug/fzqh2pjlzhw.jpg?size=443x73&quality=96&sign=c160556d001689842ccb5bc983d99564&type=album)

Видим, что файл действительно находится на своем месте.

2.4. Переименуем файл ~/ski.plases/equipment в ~/ski.plases/equiplist командой mv (рисунок 18).

*Рисунок 18:*

![](https://sun9-20.userapi.com/impg/hZWKftMepQXYslq3p-juiQTLvdO8JSeZUPkP4w/7D90a0qMEC0.jpg?size=622x83&quality=96&sign=06493da0991b27e46086668630397c89&type=album)

Просмотрим содержимое каталога и убедимся в правильности действий - теперь катлог содержит файл equiplist.

2.5. Создаем в домашнем каталоге файл abc1 командой touch и копируем его в каталог ~/ski.plases командой cp, называем его equiplist2 - переименовываем в equiplist2 командой mv (рисунок 19).

*Рисунок 19:*

![](https://sun9-66.userapi.com/impg/GfQWquuvbs5eb0Ts9EGTT73dGCeDbb67zT7foA/PPAhoFjEyPc.jpg?size=649x170&quality=96&sign=2252a61b5fd1b658c9c659dc9a501124&type=album)

Правильность действий проверяем периодическим вызовом команды ls для просмотра содержимого катлога ~/ski.plases. Смотрим на результаты выводов и видим, что мы выполнили все верно и теперь в каталоге содержится 2 разных файла equiplist.

2.6. Создадим каталог с именем equipment в каталоге ~/ski.plases с помощью команды mkdir, для этого сначал перйдем в каталог ~/ski.plases (рисунок 20).

*Рисунок 20:*

![](https://sun9-5.userapi.com/impg/CFOrNS9rwhZM0d7AgrR4OEmLgOl0qU6wrgdxHA/1a6m5fOr10k.jpg?size=440x84&quality=96&sign=8d0779d2dafc0825bc77f6784bc1b958&type=album)

Проверяем правильность действий просмотром содержимого каталога. Видим, что новый каатлог был в него добавлен (выделен синим)

2.7. Переместим файлы ~/ski.plases/equiplist и equiplist2 в каталог ~/ski.plases/equipment с помощью команды mv и проверяем содержимое каталога equipment командой ls, видим, что все верно (рисунок 21).

*Рисунок 21:*

![](https://sun9-36.userapi.com/impg/qP4jTm0wq9KORQAqPtymLwRVJDTaJ1YBMsY1NA/qw3dn3WSNbs.jpg?size=573x83&quality=96&sign=608137fe77d2aa1f0c80748a6a1f6fb3&type=album)

2.8. Создадим (mkdir) и переместим каталог ~/newdir в каталог ~/ski.plases, используя команду mv, и назовем его plans - переименуем при помощи той же команды mv (рисунок 22). По ходу действий проверяем верность выполнения просмотром содержимого каталога ls.

*Рисунок 22:*

![](https://sun9-4.userapi.com/impg/ZcRhpcZ579I3nq8Pp7VFDemNTKzyYLS0NbAsoQ/OkxDxKRn92A.jpg?size=585x203&quality=96&sign=2890dde4b3ce4e5914deeb4a3cbf9aae&type=album)

Смотрим на выводы ls - работа выполнена верно.

3.	Определяем опции команды chmod:

 	3.1. drwxr--r-- ... australia (рисунок 23)
 	Нам нужно обозначить неограниченные права для владельца каталога и право только на чтение для группы и других пользователей.

 	Для этого сначала создадим катлог australia командой mkdir (создаем каталог, поскольку первый знаком является d, следовательно australia - это каталог). Проверим его свойства и зададим новые права доступа командой chmod и следующими комбинациями: u+r+w+x - для пользователя, g+r-w-x/ o+r-w-x - для группы и остальных пользователей.

*Рисунок 23:*

![](https://sun9-28.userapi.com/impg/-TAgbKAnl_5Y_mBgzLneP7tTnw13hz0YUhR5Og/lQXVUy0_rQo.jpg?size=492x213&quality=96&sign=de98b57f57aabe902d66fd1ed14541af&type=album)

Проверим свойства командой ls. Видим, что права доступа стали именно такими, как требовалось (рисунок 23).

3.2. drwx--x--x ... play (рисунок 24)

Нам нужно обозначить неограниченные права для владельца каталога и право только на выполнение для группы и других пользователей.

Для этого сначала создадим катлог play командой mkdir (создаем каталог, поскольку первый знаком является d, следовательно play - это каталог). Проверим его свойства и зададим новые права доступа командой chmod и следующими комбинациями: u+r+w+x - для пользователя, g-r-w+x/ o-r-w+x - для группы и остальных пользователей.

*Рисунок 24:*

![](https://sun9-33.userapi.com/impg/hEecI-fvq2-35wUyT-dzR_V1Z3-ABO_VUfINmg/P5XFpwWchyM.jpg?size=488x195&quality=96&sign=c40149b3c7c95b19f4e1792d87f954f7&type=album)

Проверим свойства командой ls. Видим, что права доступа стали именно такими, как требовалось (рисунок 24).

3.3. -r-xr--r-- ... my_os (рисунок 25)

Нам нужно обозначить права для владельца файла на его чтение и выполнение и право только на чтение для группы и других пользователей.

Для этого сначала создадим файл my_os командой touch (создаем файл, поскольку первый знаком является -, следовательно my_os - это файл). Проверим его свойства и зададим новые права доступа командой chmod и следующими комбинациями: u+r-w+x - для пользователя, g+r-w-x/ o+r-w-x - для группы и остальных пользователей.


*Рисунок 25:*

![](https://sun9-9.userapi.com/impg/7Z6wJW5oB2VHMn3gthpm1_ZWgMbkeTKq-p6Q-A/g-9JSwafxsY.jpg?size=508x186&quality=96&sign=a9471de6846796a6007e132f9e0e0127&type=album)

Проверим свойства командой ls. Видим, что права доступа стали именно такими, как требовалось (рисунок 25).

3.4. -rw-rw-r-- ... feathers (рисунок 26)

Нам нужно обозначить права для владельца файла и группы на его чтение и запись и право только на чтение для других пользователей.

Для этого сначала создадим файл feathers командой touch (создаем файл, поскольку первый знаком является -, следовательно feathers - это файл). Проверим его свойства и зададим новые права доступа командой chmod и следующими комбинациями: u+r+w-x/ g+r+w-x - для пользователя и группы, o+r-w-x - для остальных пользователей.

*Рисунок 26:*

![](https://sun9-61.userapi.com/impg/Fo11OGrJpecG82pqo1mHHJMm8bbPUWPrl0MjBw/w-y6SixytWc.jpg?size=518x143&quality=96&sign=9a6c8e8f6c4a5c4b0b1ad3497f76c2d1&type=album)

Проверим свойства командой ls. Видим, что права доступа стали именно такими, как требовалось (рисунок 26).

4.1. Просмотрим содержимое файла /etc/passwd с помощью команды cat (рисунок 27).

*Рисунок 27:*

![](https://sun9-31.userapi.com/impg/1q2NQ4C4OzGDsFQPdBfO0Ewo9NPa_lYWxgCdDg/2UuCHNfiNOs.jpg?size=675x356&quality=96&sign=fce9867d82e2c320aa7c6b6bf909c66c&type=album)

4.2. Скопируем файл ~/feathers в файл ~/file.old командой cp, проверяем командой ls, что такой файл появился (рисунок 28).

*Рисунок 28:*

![](https://sun9-37.userapi.com/impg/fOPAMKTmZJJaS_FD1vY6Ddv4ml3crzorEWJUNg/_KWZZq1ZNVc.jpg?size=433x64&quality=96&sign=a6d47c561c8fc42e92cd36886dd61e3e&type=album)

4.3. Переместим файл ~/file.old в каталог ~/play с помомщью команды mv, проверим правильность действий просмотром содержимого каталога, по выводу команды ls видим, что мы все сделали верно (рисунок 29).

*Рисунок 29:*

![](https://sun9-21.userapi.com/impg/fDv-dVUdt-iibB-CcHSaQ04MFOL6fT7C0sVDcA/3FTAf_c_xM4.jpg?size=425x50&quality=96&sign=880b50f1e5c0c8ed54daa947a23c36ae&type=album)

4.4. Скопируем каталог ~/play в каталог ~/fun командой cp, проверим правильность действий просмотром содержимого каталога, по выводу команды ls видим, что мы все сделали верно (рисунок 30).

*Рисунок 30:*

![](https://sun9-10.userapi.com/impg/znWJht644Hw-HT4_S2sd7XQAoqFlknuAlm9UFQ/ZmMTSLuUplE.jpg?size=404x72&quality=96&sign=f5c92bebc550c7cb1f7f824198adc414&type=album)

4.5. Переместим каталог ~/fun в каталог ~/play командой mv и назовите его games - переименуем его командой mv в games (рисунок 31). Проверим правильность действий просмотром содержимого каталога, по выводу команды ls видим, что мы все сделали верно (рисунок 31).

*Рисунок 31:*

![](https://sun9-36.userapi.com/impg/zaHFjw3OXZ1KTn1iB8REmGNI-HXI7un-SNrOuA/6TcXRcKF9Jg.jpg?size=461x110&quality=96&sign=236c490a63e47a93a80d1358c82816f8&type=album)

4.6. Лишим владельца файла ~/feathers права на чтение командой chmod u-r ... (рисунок 32).

*Рисунок 32:*

![](https://sun9-68.userapi.com/impg/RC6z5F22_-MnldmeuPYz-s7Z86EOXBYC5AxN0A/R4zDMCKy5AA.jpg?size=654x108&quality=96&sign=b6830f6bfad3e30d3bea0abdba0a9824&type=album)

4.7. Посмотрим, что произойдёт, если мы попытаемся просмотреть файл ~/feathers командой cat (рисунок 32). Видим, что мы не можем просмотреть этот файл, система выдает сообщение об отказе в доступе, поскольку ранее мы его ограничили, следовательно мы все сделали правильно.

4.8. Теперь проверим, что произойдёт, если мы попытаемся скопировать файл ~/feathers в файл, например, ~/abc1 (рисунок 32). Система выдает сообщение о том, что мы не можем открыть файл для чтение - отказано в доступе - все верно.

4.9. Возвращаем владельцу файла ~/feathers право на чтение r командой chmod (рисунок 32).

4.10. Лишим владельца каталога ~/play права на выполнение командой chmod u-x ... (рисунок 33).

*Рисунок 33:*

![](https://sun9-45.userapi.com/impg/6fmER_SLnXghl2LsVv76mBe780pIm33g6nRD8w/mavoyQ70hGE.jpg?size=415x96&quality=96&sign=17f714cc3f7630ce000e7f5a7ae978a9&type=album)

4.11. Пробуем перейти в каталог ~/play (рисунок 33). У нас не получается этого сделать, поскольку мы ограничили права в пункте 4.10 - отказано в доступе.

4.12. Вернем владельцу каталога ~/play право на выполнение через команду chmod и снова попробуем перейти в него (рисунок 33). На этот раз это происходит успешно, поскольку мы вернули владельцу права на выполнение.

5.	Прочитаем man по командам mount, fsck, mkfs, kill (рисунок 34).


*Рисунок 34:*

![](https://sun9-66.userapi.com/impg/UPhAgSTORlod1SA6G-kHmE25Sh0hCc04V85YCA/P47dgM983Mg.jpg?size=343x82&quality=96&sign=0d8a2a8d5ddcea9091ab418b74b53ca4&type=album)

Теперь мы можем дать краткую характеристику по данным командам:

•	mount - утилита командной строки в UNIX-подобных операционных системах, которая применяется для монтирования файловых систем:

 	$ mount <файл_устройства> <папка_назначения>

 	или

 	$ mount <опции> -t <файловая_система> -o <опции_монтирования> <файл_устройства> <папка_назначения>

•	fsck - команда UNIX, которая проверяет и устраняет ошибки в файловой системе:

 	$ fsck [опции] [опции_файловой_системы] [раздел_диска]

•	mkfs - позволяет создать файловую систему Linux:

 	$  sudo mkfs -t <тип> <устройство>

•	kill - посылает указанный сигнал указанному процессу:

 	kill [ -s сигнал | -p ] [ -a ] pid...

 	или

 	kill -l [ сигнал ]

**Вывод:**

Ознакомился с файловой системой Linux, её структурой, именами и содержанием каталогов. Приобрел практические навыки по применению команд для работы с файлами и каталогами, по управлению процессами (и работами), по проверке использования диска и обслуживанию файловой системы
